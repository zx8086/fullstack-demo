Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@urql/core"),t=require("wonka"),r=require("svelte/store"),a=require("svelte"),n=e=>t.make((t=>e.subscribe(t.next))),o={operation:void 0,fetching:!1,data:void 0,error:void 0,extensions:void 0,hasNext:!1,stale:!1},i=e=>({isPaused$:e,pause(){e.set(!0)},resume(){e.set(!1)}}),s="$$_urql",u=e=>{a.setContext(s,e)};exports.getContextClient=()=>a.getContext(s),exports.initContextClient=t=>{var r=new e.Client(t);return u(r),r},exports.mutationStore=function(a){var n=e.createRequest(a.query,a.variables),i=a.client.createRequestOperation("mutation",n,a.context),s={...o,operation:i,fetching:!0},u=r.writable(s),c=t.subscribe((e=>{u.set(e)}))(t.scan(((e,t)=>({...e,...t})),s)(t.map((({stale:e,data:t,error:r,extensions:a,operation:n})=>({fetching:!1,stale:e,data:t,error:r,operation:n,extensions:a})))(a.client.executeRequestOperation(i))));return r.derived(u,((e,t)=>(t(e),c.unsubscribe)))},exports.queryStore=function(a){var s=e.createRequest(a.query,a.variables),u={requestPolicy:a.requestPolicy,...a.context},c=a.client.createRequestOperation("query",s,u),l={...o,operation:c},p=r.writable(!!a.pause),d=r.writable(l,(()=>t.subscribe((e=>{d.set(e)}))(t.scan(((e,t)=>({...e,...t})),l)(t.switchMap((e=>e?t.never:t.concat([t.fromValue({fetching:!0,stale:!1}),t.map((({stale:e,data:t,error:r,extensions:a,operation:n})=>({fetching:!1,stale:!!e,data:t,error:r,operation:n,extensions:a})))(a.client.executeRequestOperation(c)),t.fromValue({fetching:!1})])))(n(p)))).unsubscribe));return{...r.derived(d,((e,t)=>{t(e)})),...i(p)}},exports.setContextClient=u,exports.subscriptionStore=function(a,s){var u=e.createRequest(a.query,a.variables),c=a.client.createRequestOperation("subscription",u,a.context),l={...o,operation:c,fetching:!0},p=r.writable(!!a.pause),d=r.writable(l,(()=>t.subscribe((e=>{d.set(e)}))(t.scan(((e,t)=>{var r=void 0!==t.data?"function"==typeof s?s(e.data,t.data):t.data:e.data;return{...e,...t,data:r}}),l)(t.switchMap((e=>e?t.never:t.concat([t.fromValue({fetching:!0,stale:!1}),t.map((({stale:e,data:t,error:r,extensions:a,operation:n})=>({fetching:!0,stale:!!e,data:t,error:r,operation:n,extensions:a})))(a.client.executeRequestOperation(c)),t.fromValue({fetching:!1})])))(n(p)))).unsubscribe));return{...r.derived(d,((e,t)=>{t(e)})),...i(p)}},Object.keys(e).forEach((function(t){"default"===t||exports.hasOwnProperty(t)||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return e[t]}})}));
//# sourceMappingURL=urql-svelte.min.js.map
